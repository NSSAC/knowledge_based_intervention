%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
%%% SIR Model with Knowledge-Based Interventions.  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  
  
\documentclass[11pt]{article}
  
\setlength{\textheight}{9.0 in}
\setlength{\textwidth}{6.5 in}
\setlength{\oddsidemargin}{0 in}
\setlength{\evensidemargin}{0 in}
\setlength{\topmargin}{-0.5 in}

\setlength{\parskip}{4pt}

\usepackage{times}  
\usepackage{amsfonts}  
\usepackage{latexsym}  
\usepackage{amsmath}  
\usepackage[latin1]{inputenc}  
\usepackage{varioref}  
  
\usepackage{fancybox}  
\usepackage{shadow}  
\usepackage{times}  
\usepackage{amsmath}  
\usepackage{amsfonts}  
\usepackage{latexsym}  
\usepackage{color}  
\usepackage{graphicx}  
%\usepackage{pstricks}  
  
\newtheorem{theorem}{Theorem}[section]  
\newtheorem{lemma}[theorem]{Lemma}  
\newtheorem{corollary}[theorem]{Corollary}  
\newtheorem{fact}[theorem]{Fact}  
\newtheorem{claim}[theorem]{Claim}  
\newtheorem{observation}[theorem]{Observation}  
\newtheorem{definition}[theorem]{Definition}  
\newtheorem{proposition}[theorem]{Proposition}  
\newtheorem{example}[theorem]{Example}  

\newcommand{\cnp}{\textbf{NP}}
\newcommand{\true}{\texttt{True}}
\newcommand{\false}{\texttt{False}}
  
\newcommand{\calb}{\mbox{${\cal B}$}}  
\newcommand{\calc}{\mbox{${\cal C}$}}  
\newcommand{\calcp}{\mbox{${\cal C}'$}}  

\newcommand{\calco}{\mbox{$\mathcal{C}_1$}}
\newcommand{\calct}{\mbox{$\mathcal{C}_2$}}
\newcommand{\calcop}{\mbox{$\mathcal{C}_1'$}}
\newcommand{\calcodp}{\mbox{$\mathcal{C}_1''$}}

\newcommand{\calcdp}{\mbox{${\cal C}''$}}  
\newcommand{\calf}{\mbox{${\cal F}$}}  
\newcommand{\cali}{\mbox{${\cal I}$}}  
\newcommand{\calp}{\mbox{${\cal P}$}}  
\newcommand{\cals}{\mbox{${\cal S}$}}  
\newcommand{\calt}{\mbox{${\cal T}$}}  
  
\newcommand{\reach}{{\textsc{Reachability}}}
\newcommand{\treach}{{$t$-\textsc{Reachability}}}

 % box for end of proof  
\newcommand{\QED}{\hfill\rule{2mm}{2mm}\medskip}   

\newcommand{\irange}{\mbox{$1 \leq i \leq n$}}
\newcommand{\jrange}{\mbox{$1 \leq j \leq m$}}

\newcommand{\dunder}[1]{\underline{\underline{#1}}}

 
%%% New commands for the three state values.
\newcommand{\sstate}{\mbox{$\mathbb{S}$}}
\newcommand{\istate}{\mbox{$\mathbb{I}$}}
\newcommand{\rstate}{\mbox{$\mathbb{R}$}}

%% New command for the set with the above three values.
\newcommand{\bset}{\mbox{\{\sstate, \istate, \rstate\}}} 
 
%%% General forms. -- New version (July 25, 2017)
\newcommand{\tNewInfs}{\mbox{\textsc{Pr-Num-Inf-at}$\,(t, q, S)$}}
\newcommand{\tNewInfv}{\mbox{\textsc{Pr-Num-Inf-at}$\,(t, q, V)$}}
\newcommand{\tTotInfs}{\mbox{\textsc{Pr-Num-Inf-by}$\,(t, q, S)$}}
\newcommand{\tTotInfv}{\mbox{\textsc{Pr-Num-Inf-by}$\,(t, q, V)$}}
\newcommand{\tPeak}{\mbox{\textsc{Pr-Peak-Inf-at}$\,(t)$}}
\newcommand{\tVuls}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(t, S)$}}}
\newcommand{\tVulv}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(t, V)$}}}
\newcommand{\tTotVuls}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(t, S)$}}}
\newcommand{\tTotVulv}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(t, V)$}}}

%%% Versions with t = 2. (New: July 25, 2017)
\newcommand{\TwoNewInfs}{\mbox{\textsc{Pr-Num-Inf-at}$\,(2, q, S)$}}
\newcommand{\TwoNewInfv}{\mbox{\textsc{Pr-Num-Inf-at}$\,(2, q, V)$}}
\newcommand{\TwoTotInfs}{\mbox{\textsc{Pr-Num-Inf-By}$\,(2, q, S)$}}
\newcommand{\TwoTotInfv}{\mbox{\textsc{Pr-Num-Inf-By}$\,(2, q, V)$}}
\newcommand{\TwoPeak}{\mbox{\textsc{Pr-Peak-Inf-at}$\,(2)$}}
\newcommand{\TwoVuls}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(2, S)$}}}
\newcommand{\TwoVulv}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(2, V)$}}}
\newcommand{\TwoTotVuls}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(2, S)$}}}
\newcommand{\TwoTotVulv}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(2, V)$}}}

%%% Versions with t = 1. (New: July 25, 2017)
\newcommand{\OneNewInfs}{\mbox{\textsc{Pr-Num-Inf-at}$\,(1, q, S)$}}
\newcommand{\OneNewInfv}{\mbox{\textsc{Pr-Num-Inf-at}$\,(1, q, V)$}}
\newcommand{\OneTotInfs}{\mbox{\textsc{Pr-Num-Inf-by}$\,(1, q, S)$}}
\newcommand{\OneTotInfv}{\mbox{\textsc{Pr-Num-Inf-by}$\,(1, q, V)$}}
\newcommand{\OnePeak}{\mbox{\textsc{Pr-Peak-Inf-at}$\,(1)$}}
\newcommand{\OneVuls}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(1, S)$}}}
\newcommand{\OneVulv}{\mbox{\textsc{Pr-Inf-at}\mbox{$\,(1, V)$}}}
\newcommand{\OneTotVuls}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(1, S)$}}}
\newcommand{\OneTotVulv}{\mbox{\textsc{Pr-Inf-by}\mbox{$\,(1, V)$}}}

%%% Version with t = 3. (New: July 25, 2017)
\newcommand{\ThrNewInfs}{\mbox{\textsc{Pr-Num-Inf-at}$\,(3, q, S)$}}
\newcommand{\ThrNewInfv}{\mbox{\textsc{Pr-Num-Inf-at}$\,(3, q, V)$}}
\newcommand{\ThrTotInfs}{\mbox{\textsc{Pr-Num-Inf-by}$\,(3, q, S)$}}
\newcommand{\ThrTotInfv}{\mbox{\textsc{Pr-Num-Inf-by}$\,(3, q, V)$}}

%%%  Problems Involving an Intervention
\newcommand{\Int}{\textsc{Pr-Intervention}}
\newcommand{\tActiveAt}{\mbox{\textsc{Pr-Active-at}$\,t$}}
\newcommand{\tActiveBy}{\mbox{\textsc{Pr-Active-by}$\,t$}}
\newcommand{\NumActive}{\mbox{\textsc{Pr-Num-Active}$\,q$}}
\newcommand{\MinActive}{\mbox{\textsc{Pr-Min-Active}$\,q$}}
\newcommand{\NumInits}{\mbox{\textsc{Pr-Num-Init}$\,q$}}
\newcommand{\MinInits}{\mbox{\textsc{Pr-Min-Init}$\,q$}}
\newcommand{\NumActiveBy}{\mbox{\textsc{Pr-Num-Active-by}$\,(t,q)$}}
\newcommand{\MinActiveBy}{\mbox{\textsc{Pr-Min-Active-by}$\,(t,q)$}}
 \newcommand{\NumInitsBy}{\mbox{\textsc{Pr-Num-Init-By}$\,(t,q)$}}
\newcommand{\MinInitsBy}{\mbox{\textsc{Pr-Min-Init-By}$\,(t,q)$}}
 
 
  
\title{\textbf{SIR Model With Knowledge-Based Interventions}}

%\vspace*{2ex}}  

\author{  
\vspace*{1ex}  
}  
  
  
\begin{document} 
 
\maketitle  
 
\baselineskip=1.4\normalbaselineskip

\section{Introduction}
\label{sec:introduction}
  
  We consider the SIR model when there is an available intervention 
  that is chosen based on 
  knowledge about the current configuration of the system.
  In particular, we consider the case where the decision to choose the intervention is based on 
  global knowledge of the overall configuration,
  i.e., the SIR configuration of the entire network.
  In practice, the decision to utilize the intervention could be made individually by each node,
  or centrally by appropriate authorities.
We refer to a SIR system with an available knowledge-based intervention 
as a {\bf SIR-KBI} system.
We define a somewhat general model of a SIR-KBI system,
but for convenience, we focus on a simplified version of the model.

  We consider a system with only one available intervention, 
  but this assumption can be generalized to multiple available interventions.
  
  We assume that the intervention is chosen based on whether the total number of nodes 
  in the infected state at a given time step is at or above a threshold value.
  The value of the threshold could be specified as either a constant,
  or as a fraction of the total number of nodes.
  Because we consider the computational complexity of analyzing a given system for properties of interest,
  we consider it more appropriate to specify the threshold as a fraction.
  
    We assume that the intervention reduces the transmission probability of each edge by a given fraction.
  An additional possibility is that a specified set of edges is deleted when the intervention occurs.
  Another possibility is that each edge has two probabilities:
  a base probability for when the intervention is not taking place,
  and a reduced probability for when the intervention is indeed taking place.
  Two probabilities per edge can model the situation when people who are more vulnerable 
  due to such factors as age and pre-existing conditions
  make more drastic modifications to their behavior when 
  there are a large number of infected individuals in the general population.
 
 We consider both a simplified model and a more general model of a SIR-KBI system.
 In the simplified model, we assume that at each time step, 
  a decision is made as to whether or not to utilize the  intervention for the next time step,
  based on a comparison between the current number of infected nodes
   and the the required threshold number for the intervention.
  In the more general model, 
  there can be different thresholds for starting and stopping the intervention,
  a delay in stopping and starting the intervention,
  and a required minimum number of time steps that the intervention has to be maintained for.
  
  

 

\section{Formal Model}
\label{sec:formal_model}



A given SIR-KBI system incorporates a {\bf base} SIR system,
which is specified as an underlying graph $G(V,E)$, with
a given {\bf base} transmission probability $p_e$ for each edge $e \in E$. 
%We let $N_V$ denote the number of nodes in $G$.
 
The intervention is characterized by several parameters described in
Table~\ref{tab:parameters}.
The table also shows the constraints on the values of 
these parameters.

\smallskip

\begin{table}[h]
\begin{center}
\begin{tabular}{|p{1.5in}|c|p{2in}|p{1in}|}\hline
\textbf{Parameter Name} & \textbf{Symbol} & \textbf{Description} 
                   & \textbf{Constraint(s)} \\ \hline\hline
{Transmission reduction factor} & $\alpha$ 
      & {Factor by which the transmission probability is reduced.}
      & $0 < \alpha < 1$ \\ \hline
Activation threshold & $\beta_A$
      & {Lower bound on the fraction of nodes in state \istate{} 
         to activate an intervention.}
      & $0 < \beta_A < 1$ \\ \hline
Continuation threshold & $\beta_C$
      & {Upper bound on the fraction of nodes in state \istate{}
         to continue an intervention.}
      & $0 < \beta_C \leq  \beta_A$ \\ \hline
Activation delay & $\delta_A$ 
      & {Number of time units before an intervention becomes active.}
      & $\delta_A  \geq 0$ \\ \hline
Deactivation delay & $\delta_D$ 
      & {Number of time units before a discontinued intervention 
        becomes inactive.}
      & $\delta_D \geq 1$ \\ \hline
Intervention length & $\ell$ 
      & {Minimum Number of time units for which an intervention must be active.}
      & $\ell \geq \delta_D$ \\ \hline
\end{tabular}
\end{center}
\caption{Descriptions of Parameters used in problem specifications} 
\label{tab:parameters}
\end{table}

\iffalse
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{description}
\item[transmission reduction factor] $\alpha$.
\item[activation threshold] $\beta_A$.
\item[deactivation threshold] $\beta_D$.
\item[activation delay] $\delta_A$.
\item[deactivation delay] $\delta_D$.
\item[intervention length] $\ell$.
\end{description}

We require that $0 < \alpha < 1$, $0 < \beta_D \leq \beta_A < 1$,
$\delta_A \geq 0$, $\delta_D \geq 0$, and $\ell \geq 1$.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\fi

If the intervention is {\bf inactive} at a given time $t$,
then  the transmission probability of each edge $e$ is $p_e$,
and if the intervention is {\bf active} at a given time $t$,
then  the transmission probability of each edge $e$ is the reduced value $\alpha \, p_e$.


We now proceed to make the following simplifying assumptions:
\begin{enumerate}
\item
$\beta_C = \beta_A$. (In this case, we use the symbol $\beta$ to denote the common threshold.)
\item
$\delta_A = \delta_D = 1$.
\item
$\ell = 1$.
\end{enumerate}

Under these simplifying assumptions, a SIR-KBI system operates as follows.
Initially, at $t = 0$, the intervention is inactive.
For $t > 0$, the intervention is active at time $t$
iff the number of nodes that are infected at time $t-1$,
i.e., the number of nodes that are in state $\istate$ at time $t-1$,
 is at least $\beta |V|$.

A given simplified SIR-KBI system is specified by underlying graph $G(V,E)$, 
value $p_e$ for each edge $e \in E$,
transmission reduction factor $\alpha$, and threshold factor $\beta$.



We consider the complexity of analyzing a given system for various properties of interest.
We can consider special cases, such as when all the transmission probabilities are equal,
or when the underlying graph $G$ has some some special graph property.
We can also consider the special cases that arise when certain parameters are fixed.
Such parameters can include $\alpha$, $\beta$, and the base transmission probability.

\section{Computational Problems for SIR-KBI Systems}
\label{sec:computational_problems}

All the computational problems for SIR systems 
are also well-defined and meaningful for SIR-KBI systems.
Moreover, there are additional problems pertaining to  whether, when, and how often,
the intervention is utilized. Some possible problems of interest are the following.
For convenience, we describe these problems for simplified SIR-KBI systems.

\bigskip

\noindent
\textbf{Probability of an Intervention}~ (\Int)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active for at least one time unit.

\bigskip
\noindent
\textbf{Number Active}~ (\NumActive)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $q \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active during exactly $q$ time units (not necessarily continuously).

\bigskip
\noindent
\textbf{Minimum Active}~ (\MinActive)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $q \geq 1$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active during at least $q$ time units.

\medskip
Note that the \Int{} problem is the same as the \MinActive{} problem with $q = 1$,
and also corresponds to the complementary event to that in the  \NumActive{} problem with $q = 0$.

\bigskip
We can also define timed versions of the above problems, as follows.

\bigskip
\noindent
\textbf{Probability Intervention Active At a Given Time}~ (\tActiveAt)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active at time $t$.

\bigskip

\noindent
\textbf{Probability of an Intervention Active By a Given Time}~ (\tActiveBy)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active for at least one step by time $t$.



\bigskip

\noindent
\textbf{Number Active By a Given Time}~ (\NumActiveBy)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$; integer $q \geq 0$..

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active for exactly $q$ time steps prior to $t+1$.


\bigskip

\noindent
\textbf{Min Active By a Given Time}~ (\MinActiveBy)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$; integer $q \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is active for at least $q$ time steps prior to $t+1$.


\bigskip

We can also consider the number of times that the intervention is initiated.
We say that the intervention is {\bf initiated} at time $t$ if the intervention is active at time $t$,
but not active during the preceding time period.
Thus, a sequence of consecutive time steps when the intervention is active is counted
as a single initiation.

\bigskip
\noindent
\textbf{Number Initializations}~ (\NumInits)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $q \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is initiated exactly $q$ times.


\bigskip
\noindent
\textbf{Minimum Initializations}~ (\MinInits)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $q \geq 1$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is initiated at least $q$ times.


\bigskip
\noindent
\textbf{Number Initializations By a Given Time}~ (\NumInitsBy)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$; integer $q \geq 0$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is initiated exactly $q$ times prior to $t+1$.


\bigskip
\noindent
\textbf{Minimum Initializations By a Given Time}~ (\MinInitsBy)

\medskip
\noindent
\underline{Instance:}~ An SIR-KBI system $G(V,E)$ with a base transmission probability for each edge,
transmission reduction factor $\alpha$, threshold factor $\beta$;
along with initial configuration \cali; integer $t \geq 0$; integer $q \geq 1$.

\smallskip
\noindent
\underline{Requirement:}~ The probability of the following
event:~ the intervention is initiated at least $q$ times prior to $t+1$.









\bigskip

\section{Computational Intractability Results for General Networks}
\label{sec:general_results}

The short-term forecasting reductions from our original paper 
are generally applicable to SIR-KBI systems,
since the reductions can construct problem instances where the intervention is never activated.
If the threshold factor $\beta$ is part of the constructed problem instance,
then it can be set so high that the intervention is never activated.

If we want to consider instances where $\beta$ is fixed,
then for problems involving the total number of infections and vulnerability,
the reduction can be modified by adding a sufficiently large number of nodes 
whose distance from the initially infected node is greater than the time $t$
in the short-term forecasting problem.
For the peak problem, 
the base transmission probability for the edges incident on these extra nodes can be made so small, 
that these nodes are very unlikely to be infected, 
and so these extra nodes do not affect when the peak occurs. 

\end{document}
